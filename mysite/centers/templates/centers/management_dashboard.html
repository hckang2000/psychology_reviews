{% extends 'base.html' %}
{% load static %}

{% block title %}ì„¼í„° ê´€ë¦¬ ëŒ€ì‹œë³´ë“œ{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'centers/css/variables.css' %}">
<link rel="stylesheet" href="{% static 'centers/css/common.css' %}">
<link rel="stylesheet" href="{% static 'centers/css/dashboard.css' %}">
{% endblock %}

{% block content %}
<div class="management-dashboard">
    <div class="dashboard-header">
        <h1>ğŸ¢ ì„¼í„° ê´€ë¦¬ ëŒ€ì‹œë³´ë“œ</h1>
        <p>
            {% if profile.is_admin %}
                ì´ê´€ë¦¬ìë¡œ ë¡œê·¸ì¸í•˜ì…¨ìŠµë‹ˆë‹¤. ëª¨ë“  ì„¼í„°ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
            {% else %}
                ì„¼í„°ìš´ì˜ìë¡œ ë¡œê·¸ì¸í•˜ì…¨ìŠµë‹ˆë‹¤. ë‹´ë‹¹ ì„¼í„°ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
            {% endif %}
        </p>
    </div>
    
    {% if centers %}
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-number">{{ centers.count }}</div>
                <div class="stat-label">ê´€ë¦¬ ì„¼í„° ìˆ˜</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">{{ centers.0.therapists.count|default:0 }}</div>
                <div class="stat-label">ë“±ë¡ëœ ìƒë‹´ì‚¬</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">{{ centers.0.reviews.count|default:0 }}</div>
                <div class="stat-label">ë¦¬ë·° ìˆ˜</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">{{ centers.0.images.count|default:0 }}</div>
                <div class="stat-label">ì„¼í„° ì´ë¯¸ì§€</div>
            </div>
        </div>
        
        <div class="centers-grid">
            {% for center in centers %}
                <div class="center-card">
                    <h3>{{ center.name }}</h3>
                    <div class="center-info">
                        <p><strong>ìœ í˜•:</strong> {{ center.get_type_display }}</p>
                        <p><strong>ì£¼ì†Œ:</strong> {{ center.address }}</p>
                        <p><strong>ì „í™”ë²ˆí˜¸:</strong> {{ center.phone|default:"ë¯¸ë“±ë¡" }}</p>
                        <p><strong>ìš´ì˜ì‹œê°„:</strong> {{ center.operating_hours|default:"ë¯¸ë“±ë¡" }}</p>
                        <p><strong>ìƒë‹´ì‚¬ ìˆ˜:</strong> {{ center.therapists.count }}ëª…</p>
                        <p><strong>ë¦¬ë·° ìˆ˜:</strong> {{ center.reviews.count }}ê°œ</p>
                    </div>
                    <a href="{% url 'centers:center_management' center.pk %}" class="manage-button">
                        ğŸ“ ì„¼í„° ì •ë³´ ê´€ë¦¬
                    </a>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <div class="no-centers">
            <h3>ê´€ë¦¬í•  ì„¼í„°ê°€ ì—†ìŠµë‹ˆë‹¤</h3>
            <p>ê´€ë¦¬ìì—ê²Œ ì„¼í„° ê´€ë¦¬ ê¶Œí•œì„ ìš”ì²­í•´ì£¼ì„¸ìš”.</p>
        </div>
    {% endif %}
</div>

<!-- ì¶”ê°€ ê´€ë¦¬ ê¸°ëŠ¥ -->
<div class="additional-management">
    <h2>ğŸ“Š ì¶”ê°€ ê´€ë¦¬ ê¸°ëŠ¥</h2>
    <div class="management-grid">
        <a href="{% url 'centers:review_management' %}" class="management-card">
            <div class="card-icon">ğŸ’¬</div>
            <div class="card-content">
                <h3>ë¦¬ë·° ê´€ë¦¬</h3>
                <p>ì„¼í„°ì— ì‘ì„±ëœ ë¦¬ë·°ë¥¼ í™•ì¸í•˜ê³  ë‹µë³€ì„ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
            </div>
        </a>
        
        {% if profile.is_admin %}
            <div class="management-card disabled">
                <div class="card-icon">ğŸ“ˆ</div>
                <div class="card-content">
                    <h3>í†µê³„ ë¶„ì„</h3>
                    <p>ì„¼í„°ë³„ ë¦¬ë·° í†µê³„ ë° ë¶„ì„ (ì¤€ë¹„ ì¤‘)</p>
                </div>
            </div>
            
            <div class="management-card disabled">
                <div class="card-icon">âš™ï¸</div>
                <div class="card-content">
                    <h3>ì‹œìŠ¤í…œ ì„¤ì •</h3>
                    <p>ì „ì²´ ì‹œìŠ¤í…œ ì„¤ì • ê´€ë¦¬ (ì¤€ë¹„ ì¤‘)</p>
                </div>
            </div>
        {% endif %}
    </div>
</div>
{% endblock %} 